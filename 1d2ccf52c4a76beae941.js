import Pong from"./pong.js";import data from"./data.js";const projectListSection=document.querySelector(".project-list"),projects={all:data.projects,filters:[]},articles={all:data.articles,filtered:data.articles,filters:[]},badges={png:["cypress","passportjs","supabase","vuex"]};let isSurveyTaken=!1;function addButtonToggleListeners(){document.querySelectorAll(".projects .filter-bar button").forEach((e=>{e.addEventListener("click",(e=>toggleFilter(e,"projects")))})),document.querySelectorAll(".blog .filter-bar button").forEach((e=>{e.addEventListener("click",(e=>toggleFilter(e,"articles")))}))}function toggleFilter({target:e},t){let o="projects"===t?projects.filters:articles.filters,{innerText:n}=e;n=n.toLowerCase(),o.includes(n)?o=o.filter((e=>e!==n)):o.push(n),e.classList.toggle("active"),"projects"===t?(projects.filters=o,updateProjects()):(articles.filters=o,updateArticles())}function updateProjects(){if(!projects.filters.length)return renderProjects(projects.all);const e=projects.all.filter((e=>projects.filters.every((t=>e.technologies.map((e=>e.toLowerCase())).includes(t)))));if(!e.length)return projectListSection.innerHTML='<p class="no-match">Sorry, no projects match that combination.</p>';e.sort(((e,t)=>{const o=e.technologies.filter((e=>projects.filters.includes(e))).length;return t.technologies.filter((e=>projects.filters.includes(e))).length-o})),renderProjects(e)}function addProjectTechnologies(e,t){return t.classList.add("technologies"),e.forEach((e=>{const o=e.toLowerCase().replace(".","").split(" ")[0],n=document.createElement("img"),r=badges.png.includes(o)?"png":"svg";n.src=`../src/img/icons/${o}.${r}`,n.alt=`${e} logo`,n.title=e,n.classList.add("tech-badge"),t.appendChild(n)})),t}function renderProjects(e){projectListSection.innerHTML="",e.forEach((e=>{const t=document.createElement("div"),o=document.createElement("img"),n=document.createElement("h3"),r=document.createElement("p"),s=document.createElement("a"),c=[o,n,r,addProjectTechnologies(e.technologies,document.createElement("div")),s];t.classList.add("project",e.title.toLowerCase()),o.classList.add("project-image"),o.src=e.image,o.alt=e.title,n.innerText=e.title,r.innerText=e.description,s.textContent="View Project",s.href=e.url,s.target="_blank",e.comingSoon&&s.classList.add("coming-soon"),c.forEach((e=>t.appendChild(e))),projectListSection.appendChild(t)}))}function addNavListeners(){const e=document.querySelector("nav.mobile"),t=document.querySelector(".me"),o=document.querySelectorAll("nav a");[t,...o].forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault();const o=e.target.hash,n=document.querySelector(o),r=e.target!=t?n.offsetTop-70:0;window.scrollTo(0,r)}))})),e.addEventListener("click",(t=>{e.contains(t.target)&&e.classList.remove("open")}))}function setMobileMenuListener(){const e=document.querySelector("nav.mobile"),t=document.querySelector(".menu-toggle"),o=t.querySelector(".bars"),n=t.querySelector(".menu-toggle .close");t.addEventListener("click",(()=>{e.classList.toggle("open"),n.classList.toggle("hide"),o.classList.toggle("hide")}))}function setPrintListener(){const e=()=>{window.location.href="https://drive.google.com/file/d/1R5c_-jpCvC3_e1QuuR5Ph1NXcsrhzc77/view?usp=sharing"};window.addEventListener("keydown",(t=>{80===t.keyCode&&(t.ctrlKey||t.metaKey)&&(t.preventDefault(),e())})),window.onbeforeprint=e}function generateRandomRgbColor(e,t,o,n,r){return Math.floor(o/29*(parseInt(t.substring(n,r),16)-parseInt(e.substring(n,r),16))+parseInt(e.substring(n,r),16))}function getRandomGradientColors(e){const t="#"+Math.floor(16777215*Math.random()).toString(16),o="#"+Math.floor(16777215*Math.random()).toString(16),n=[];for(let r=0;r<e;r++){const e=generateRandomRgbColor(t,o,r,1,3),s=generateRandomRgbColor(t,o,r,3,5),c=generateRandomRgbColor(t,o,r,5,7);n.push(`rgb(${e}, ${s}, ${c})`)}return n}function setHeroGradientListener(){[document.querySelector("main #top h2"),document.querySelector("main #top p")].forEach((e=>{const t=e.innerText,o=getRandomGradientColors(t.length);e.innerHTML="",t.split("").forEach(((t,n)=>{const r=document.createElement("span");r.innerText=t,r.addEventListener("mouseover",(()=>{r.style.color=o[n]})),r.addEventListener("mouseleave",(()=>{setTimeout((()=>{r.style.color="#fff"}),100)})),e.appendChild(r)}))}))}function toggleModal(e){const t=document.querySelector(".modal");if(t){const o=document.querySelector(".contact .container");return t.remove(),o.appendChild(e)}if(isSurveyTaken)return;const o=document.createElement("div");o.className="modal",o.appendChild(e),document.body.appendChild(o),o.style.display="block"}function setContactListener(){document.querySelector(".contact-form-inputs").addEventListener("submit",(e=>{e.preventDefault()}))}setMobileMenuListener(),addButtonToggleListeners(),addNavListeners(),setPrintListener(),setHeroGradientListener(),setContactListener(),renderProjects(projects.all);